{"version":3,"sources":["webpack:///./src/component/attr_editor/index.less?17f9","webpack:///./src/component/simulator/index.less?7e2a","component/simulator/index.less","webpack:///./src/component/subline/index.less?e1fa","component/subline/index.less","webpack:///./src/component/display/index.less?b6f2","component/display/index.less","webpack:///./src/component_painter/base/index.less?8367","component_painter/base/index.less","component/attr_editor/index.less","webpack:///./src/component/view_list/index.less?8454","component/view_list/index.less","webpack:///./src/container/login/index.less?9775","container/login/index.less","core/paletteTool.js","context/palette.js","hooks/usePalette.js","component/render/index.js","component/subline/index.js","context/edit.js","component_painter/base/index.js","component_painter/image/index.js","component_painter/text/index.js","component_painter/qrcode/index.js","component_painter/rect/index.js","component/display/index.js","hooks/useEdit.js","component/attr_editor/relativeSelectPanel.js","component/attr_editor/fieldRelative.js","component/attr_editor/index.js","component/view_list/index.js","core/storage.js","context/project.js","hooks/useProject.js","component/simulator/index.js","container/index/index.js","container/login/index.js","container/main/index.js","reportWebVitals.js","index.js"],"names":["api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_EXPORT___","push","DEFAULT_VIEWS","image","id","type","url","css","mode","text","fontSize","color","maxLines","lineHeight","fontWeight","textDecoration","textStyle","background","padding","textAlign","qrcode","rect","regNumber","getViewById","palette","views","find","item","getViewByIndex","findIndex","addUnit","unit","unitAttr","handle","obj","key","hasOwnProperty","includes","indexOf","test","forEach","paletteDefault","width","height","createContext","usePalette","useContext","paletteContext","usePaletteValue","value","Render","ref","useRef","useEffect","context","current","getContext","pen","cloneDeep","Painter","console","log","JSON","parse","stringify","paint","setPen","loadImage","a","Promise","resolve","img","Image","onload","src","Subline","className","Array","from","Math","floor","map","index","style","left","top","edit","VIEW_TYPE_IMAGE","VIEW_TYPE_TEXT","VIEW_TYPE_QRCODE","VIEW_TYPE_RECT","Base","config","bottom","right","paletteValue","editContext","useState","setCss","highlight","active","setActive","mouse","lock","prevX","prevY","clsx","activeViewId","onMouseEnter","setActiveViewId","onMouseLeave","e","clientX","clientY","onClick","setAttrEditor","Display","children","useEdit","RelativeSelectPanel","onSelect","onVisibleChange","refInput","refPanel","selectedId","setSelectedId","handleClick","ele","panel","parentNode","isPanelElement","target","window","addEventListener","removeEventListener","handleSelectAttr","attr","handleMouseLeave","display","isRelative","FieldRelative","label","onChange","desc","checked","setChecked","currentValue","setCurrentValue","selectPanelCss","setSelectedPanelCss","refSelectionStart","timer","setTimeout","scrollHeight","clearTimeout","setInputHeight","setSelectPanelStyle","box","getBoundingClientRect","onFocus","onBlur","addRelativeToValue","selectionStart","length","next","nextVal","slice","nextSelectionStart","focus","setSelectionRange","visible","numberAttr","validateValue","defaultValue","propType","viewType","Number","FieldInput","FieldSelect","AttrEditor","viewId","setValue","viewCss","handleSetValue","useCallback","attrValue","handleSetCss","rotate","borderRadius","borderWidth","borderColor","borderStyle","shadow","setViewProps","TYPE_MAP","ViewItem","onRemoveView","stopPropagation","ViewList","memorized","Date","now","view","insertView","setPalette","handleRemoveViewMemorized","palatteValue","splice","removeView","KEY","storage","set","name","localStorage","setItem","get","getItem","all","Object","keys","replace","project","useProject","projectContext","initialAttrEditor","Simulator","refDeviceWrapper","device","setDevice","ratio","setRatio","attrEditor","viewListStyle","setViewListStyle","memorizedCallback","handleResize","handleDeviceChange","handleDeviceSizeBlur","setRootStyle","disabled","$a","document","createElement","blob","Blob","download","href","URL","createObjectURL","clickEvent","MouseEvent","dispatchEvent","Provider","setViewCss","props","newView","Index","Login","projectName","setProjectName","trim","placeholder","alert","setName","Main","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a0306b1a.chunk.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-8-2!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-8-2!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".simulator {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.tools {\\n  width: 260px;\\n  padding: 10px 0;\\n  margin-bottom: 10px;\\n  background-color: #eee;\\n}\\n.tools button {\\n  margin: 0 5px;\\n  cursor: pointer;\\n  padding: 0 5px;\\n}\\n.device-switch {\\n  width: 260px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.device-switch input {\\n  width: 60px;\\n}\\n.device-switch span {\\n  margin: 0 4px;\\n}\\n.device {\\n  position: relative;\\n  margin-top: 40px;\\n}\\n.canvas-wrapper {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #fff;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/component/simulator/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAA;EACA,aAAA;EACA,sBAAA;EACA,mBAAA;AACF;AAEA;EACE,YAAA;EACA,eAAA;EACA,mBAAA;EACA,sBAAA;AAAF;AAJA;EAMI,aAAA;EACA,eAAA;EACA,cAAA;AACJ;AAEA;EACE,YAAA;EACA,aAAA;EACA,8BAAA;AAAF;AAHA;EAWI,WAAA;AALJ;AANA;EAcI,aAAA;AALJ;AAQA;EACE,kBAAA;EACA,gBAAA;AANF;AAQA;EACE,WAAA;EACA,YAAA;EACA,sBAAA;AANF\",\"sourcesContent\":[\".simulator {\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  // padding-top: 20px;\\n}\\n.tools {\\n  width: 260px;\\n  padding: 10px 0;\\n  margin-bottom: 10px;\\n  background-color: #eee;\\n  button {\\n    margin: 0 5px;\\n    cursor: pointer;\\n    padding: 0 5px;\\n  }\\n}\\n.device-switch {\\n  width: 260px;\\n  display: flex;\\n  justify-content: space-between;\\n  div:first-child {\\n\\n  }\\n  div:last-child {\\n\\n  }\\n  input {\\n    width: 60px;\\n  }\\n  span {\\n    margin: 0 4px;\\n  }\\n}\\n.device {\\n  position: relative;\\n  margin-top: 40px;\\n}\\n.canvas-wrapper {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #fff;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-8-2!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".subline {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  pointer-events: none;\\n}\\n.subline .x-axis,\\n.subline .y-axis {\\n  position: absolute;\\n  background-color: #999;\\n}\\n.subline .x-axis__pot,\\n.subline .y-axis__pot {\\n  position: absolute;\\n  background-color: #999;\\n}\\n.subline .x-axis__pot i,\\n.subline .y-axis__pot i {\\n  position: absolute;\\n  font-size: 20px;\\n  color: #000;\\n}\\n.subline .x-axis__pot {\\n  height: 3px;\\n  width: 1px;\\n  top: -3px;\\n}\\n.subline .x-axis__pot i {\\n  left: 0;\\n  transform: translate(-50%, -100%) scale(0.4);\\n  transform-origin: center bottom;\\n  color: #000;\\n}\\n.subline .y-axis__pot {\\n  width: 3px;\\n  height: 1px;\\n  left: -3px;\\n  background-color: #999;\\n}\\n.subline .y-axis__pot i {\\n  top: 0;\\n  position: absolute;\\n  font-size: 20px;\\n  transform: translate(-112%, -48%) scale(0.4);\\n  transform-origin: right center;\\n  color: #000;\\n}\\n.subline .x-axis,\\n.subline .x-axis--moveable {\\n  width: calc(100% + 50px);\\n  height: 1px;\\n  top: -1px;\\n  left: 0;\\n}\\n.subline .y-axis,\\n.subline .y-axis--moveable {\\n  width: 1px;\\n  height: calc(100% + 50px);\\n  top: -1px;\\n  left: 0;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/component/subline/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;EACA,oBAAA;AACF;AAPA;;EAQI,kBAAA;EACA,sBAAA;AAGJ;AAFI;;EACE,kBAAA;EACA,sBAAA;AAKN;AAPI;;EAII,kBAAA;EACA,eAAA;EACA,WAAA;AAOR;AAFI;EACE,WAAA;EACA,UAAA;EACA,SAAA;AAIN;AAPI;EAKI,OAAA;EACA,4CAAA;EACA,+BAAA;EACA,WAAA;AAKR;AAAI;EACE,UAAA;EACA,WAAA;EACA,UAAA;EACA,sBAAA;AAEN;AANI;EAMI,MAAA;EACA,kBAAA;EACA,eAAA;EACA,4CAAA;EACA,8BAAA;EACA,WAAA;AAGR;AAhDA;;EAkDI,wBAAA;EACA,WAAA;EACA,SAAA;EACA,OAAA;AAEJ;AAvDA;;EAwDI,UAAA;EACA,yBAAA;EACA,SAAA;EACA,OAAA;AAGJ\",\"sourcesContent\":[\".subline {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  pointer-events: none;\\n  .x-axis, .y-axis {\\n    position: absolute;\\n    background-color: #999;\\n    &__pot {\\n      position: absolute;\\n      background-color: #999;\\n      i {\\n        position: absolute;\\n        font-size: 20px;\\n        color: #000;\\n      }\\n    }\\n  }\\n  .x-axis {\\n    &__pot {\\n      height: 3px;\\n      width: 1px;\\n      top: -3px;\\n      i {\\n        left: 0;\\n        transform: translate(-50%, -100%) scale(0.4);\\n        transform-origin: center bottom;\\n        color: #000;\\n      }\\n    }\\n  }\\n  .y-axis {\\n    &__pot {\\n      width: 3px;\\n      height: 1px;\\n      left: -3px;\\n      background-color: #999;\\n      i {\\n        top: 0;\\n        position: absolute;\\n        font-size: 20px;\\n        transform: translate(-112%, -48%) scale(0.4);\\n        transform-origin: right center;\\n        color: #000;\\n      }\\n    }\\n  }\\n  .x-axis, .x-axis--moveable {\\n    width: calc(100% + 50px);\\n    height: 1px;\\n    top: -1px;\\n    left: 0;\\n  }\\n  .y-axis, .y-axis--moveable {\\n    width: 1px;\\n    height: calc(100% + 50px);\\n    top: -1px;\\n    left: 0;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-8-2!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".display {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 9;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/component/display/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;EACA,UAAA;AACF\",\"sourcesContent\":[\".display {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 9;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-8-2!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".c_p_base {\\n  position: absolute;\\n}\\n.c_p_base--highlight {\\n  outline: 1px solid #fac564;\\n}\\n.c_p_base--active {\\n  box-shadow: 0 0 4px 1px #da78ca;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/component_painter/base/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAA;AACF;AAEA;EACE,0BAAA;AAAF;AAGA;EACE,+BAAA;AADF\",\"sourcesContent\":[\".c_p_base {\\n  position: absolute;\\n}\\n\\n.c_p_base--highlight {\\n  outline: 1px solid #fac564;\\n}\\n\\n.c_p_base--active {\\n  box-shadow: 0 0 4px 1px #da78ca;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".attr-editor {\\n  display: none;\\n  position: fixed;\\n  width: 300px;\\n  height: 600px;\\n  overflow: auto;\\n  background-color: #fff;\\n  box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.2);\\n  border-radius: 5px;\\n  padding: 30px 10px;\\n}\\n.attr-editor__scroller {\\n  height: 100%;\\n  overflow: auto;\\n  padding-bottom: 10px;\\n}\\n.attr-editor__footer {\\n  position: absolute;\\n  height: 50px;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 0 20px;\\n}\\n.attr-editor__button {\\n  height: 25px;\\n  width: 120px;\\n  cursor: pointer;\\n}\\n.field-wrapper {\\n  margin-bottom: 20px;\\n}\\n.field {\\n  position: relative;\\n  display: flex;\\n  align-items: flex-start;\\n}\\n.field__label {\\n  width: 60px;\\n  text-align: right;\\n  flex-shrink: 0;\\n  font-size: 14px;\\n}\\n.field__input,\\n.field__textarea {\\n  display: block;\\n  width: 100%;\\n  border: none;\\n  border-bottom: 1px solid #666;\\n  outline: none;\\n  font-size: 16px;\\n}\\n.field__textarea {\\n  resize: none;\\n}\\n.field__box {\\n  padding: 0 10px;\\n  margin-left: 10px;\\n  flex-grow: 1;\\n}\\n.field__desc {\\n  font-size: 12px;\\n  color: #999;\\n  margin-top: 10px;\\n}\\n.field__desc label {\\n  display: flex;\\n  align-items: center;\\n}\\n.field__desc label input {\\n  margin-right: 4px;\\n}\\n.relative-select-panel {\\n  position: fixed;\\n  display: flex;\\n  width: 300px;\\n  height: 150px;\\n  background-color: #fff;\\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.2);\\n  z-index: 9;\\n  border-radius: 4px;\\n  display: none;\\n}\\n.relative-id-list {\\n  width: 200px;\\n  flex-grow: 0;\\n  height: 100%;\\n  overflow: auto;\\n}\\n.relative-id-list__item {\\n  font-size: 14px;\\n  padding: 5px;\\n  cursor: pointer;\\n}\\n.relative-id-list__item:hover {\\n  background-color: #f1f1f1;\\n}\\n.relative-id-list__item--active {\\n  background-color: #f1f1f1;\\n}\\n.relative-size-list {\\n  flex: 1;\\n  height: 100%;\\n  overflow: auto;\\n}\\n.relative-size-list__item {\\n  width: 100%;\\n  font-size: 14px;\\n  padding: 5px;\\n  cursor: pointer;\\n}\\n.relative-size-list__item:hover {\\n  background-color: #f1f1f1;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/component/attr_editor/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EACA,cAAA;EACA,sBAAA;EACA,4CAAA;EACA,kBAAA;EACA,kBAAA;AACF;AAAE;EACE,YAAA;EACA,cAAA;EACA,oBAAA;AAEJ;AAAE;EACE,kBAAA;EACA,YAAA;EACA,OAAA;EACA,SAAA;EACA,WAAA;EACA,aAAA;EACA,8BAAA;EACA,mBAAA;EACA,eAAA;AAEJ;AAAE;EACE,YAAA;EACA,YAAA;EACA,eAAA;AAEJ;AAEA;EACE,mBAAA;AAAF;AAGA;EACE,kBAAA;EACA,aAAA;EACA,uBAAA;AADF;AAEE;EACE,WAAA;EACA,iBAAA;EACA,cAAA;EACA,eAAA;AAAJ;AAEE;;EAEE,cAAA;EACA,WAAA;EACA,YAAA;EACA,6BAAA;EACA,aAAA;EACA,eAAA;AAAJ;AAEE;EACE,YAAA;AAAJ;AAEE;EACE,eAAA;EACA,iBAAA;EACA,YAAA;AAAJ;AAEE;EACE,eAAA;EACA,WAAA;EACA,gBAAA;AAAJ;AAHE;EAKI,aAAA;EACA,mBAAA;AACN;AAPE;EAQM,iBAAA;AAER;AAKA;EACE,eAAA;EACA,aAAA;EACA,YAAA;EACA,aAAA;EACA,sBAAA;EACA,0CAAA;EACA,UAAA;EACA,kBAAA;EACA,aAAA;AAHF;AAKA;EACE,YAAA;EACA,YAAA;EACA,YAAA;EACA,cAAA;AAHF;AAIE;EACE,eAAA;EACA,YAAA;EACA,eAAA;AAFJ;AAGI;EACE,yBAAA;AADN;AAGI;EACE,yBAAA;AADN;AAKA;EACE,OAAA;EACA,YAAA;EACA,cAAA;AAHF;AAIE;EACE,WAAA;EACA,eAAA;EACA,YAAA;EACA,eAAA;AAFJ;AAGI;EACE,yBAAA;AADN\",\"sourcesContent\":[\".attr-editor {\\n  display: none;\\n  position: fixed;\\n  width: 300px;\\n  height: 600px;\\n  overflow: auto;\\n  background-color: #fff;\\n  box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, .2);\\n  border-radius: 5px;\\n  padding: 30px 10px;\\n  &__scroller {\\n    height: 100%;\\n    overflow: auto;\\n    padding-bottom: 10px;\\n  }\\n  &__footer {\\n    position: absolute;\\n    height: 50px;\\n    left: 0;\\n    bottom: 0;\\n    width: 100%;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 0 20px;\\n  }\\n  &__button {\\n    height: 25px;\\n    width: 120px;\\n    cursor: pointer;\\n  }\\n}\\n\\n.field-wrapper {\\n  margin-bottom: 20px;\\n}\\n\\n.field {\\n  position: relative;\\n  display: flex;\\n  align-items: flex-start;\\n  &__label {\\n    width: 60px;\\n    text-align: right;\\n    flex-shrink: 0;\\n    font-size: 14px;\\n  }\\n  &__input,\\n  &__textarea {\\n    display: block;\\n    width: 100%;\\n    border: none;\\n    border-bottom: 1px solid #666;\\n    outline: none;\\n    font-size: 16px;\\n  }\\n  &__textarea {\\n    resize: none;\\n  }\\n  &__box {\\n    padding: 0 10px;\\n    margin-left: 10px;\\n    flex-grow: 1;\\n  }\\n  &__desc {\\n    font-size: 12px;\\n    color: #999;\\n    margin-top: 10px;\\n    label {\\n      display: flex;\\n      align-items: center;\\n      input {\\n        margin-right: 4px;\\n      }\\n    }\\n  }\\n}\\n\\n// \\n.relative-select-panel {\\n  position: fixed;\\n  display: flex;\\n  width: 300px;\\n  height: 150px;\\n  background-color: #fff;\\n  box-shadow:  0 4px 4px 0 rgba(0, 0, 0, .2);\\n  z-index: 9;\\n  border-radius: 4px;\\n  display: none;\\n}\\n.relative-id-list {\\n  width: 200px;\\n  flex-grow: 0;\\n  height: 100%;\\n  overflow: auto;\\n  &__item {\\n    font-size: 14px;\\n    padding: 5px;\\n    cursor: pointer;\\n    &:hover {\\n      background-color: #f1f1f1;\\n    }\\n    &--active {\\n      background-color: #f1f1f1;\\n    }\\n  }\\n}\\n.relative-size-list {\\n  flex: 1;\\n  height: 100%;\\n  overflow: auto;\\n  &__item {\\n    width: 100%;\\n    font-size: 14px;\\n    padding: 5px;\\n    cursor: pointer;\\n    &:hover {\\n      background-color: #f1f1f1;\\n    }\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-8-2!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".view-list {\\n  position: fixed;\\n  width: 300px;\\n  height: 600px;\\n  overflow: auto;\\n  background-color: #fff;\\n  box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.2);\\n  border-radius: 5px;\\n  padding: 10px 10px;\\n}\\n.view-list__scroller {\\n  height: 100%;\\n  overflow: auto;\\n  padding-bottom: 10px;\\n}\\n.view-list__footer {\\n  position: absolute;\\n  height: 50px;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 0 20px;\\n}\\n.view-list__button {\\n  height: 25px;\\n  width: 120px;\\n  cursor: pointer;\\n}\\n.view-list-item {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  border-radius: 6px;\\n  margin-bottom: 10px;\\n  font-size: 14px;\\n  cursor: pointer;\\n}\\n.view-list-item--highlight {\\n  border-color: #acf;\\n}\\n.view-list-item__title {\\n  border-bottom: 1px solid #ccc;\\n  font-size: 14px;\\n  font-weight: bold;\\n  text-align: center;\\n  padding: 6px 0;\\n}\\n.view-list-item__cards {\\n  display: flex;\\n}\\n.view-list-item__card {\\n  width: 25%;\\n  flex-shrink: 0;\\n  text-align: center;\\n  height: 100px;\\n  line-height: 100px;\\n}\\n.view-list-item__card:hover {\\n  background-color: #acf;\\n  color: #fff;\\n  font-weight: bold;\\n}\\n.view-list-item__content {\\n  padding: 10px;\\n  border-bottom: 1px solid #ccc;\\n}\\n.view-list-item__op {\\n  padding: 10px;\\n  text-align: right;\\n}\\n.view-list-item__button {\\n  font-size: 12px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  background-color: #ff4f4f;\\n  color: #fff;\\n  font-weight: bold;\\n  padding: 2px 5px;\\n}\\n.view-list-item__button:hover {\\n  background-color: red;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/component/view_list/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAA;EACA,YAAA;EACA,aAAA;EACA,cAAA;EACA,sBAAA;EACA,4CAAA;EACA,kBAAA;EACA,kBAAA;AACF;AAAE;EACE,YAAA;EACA,cAAA;EACA,oBAAA;AAEJ;AAAE;EACE,kBAAA;EACA,YAAA;EACA,OAAA;EACA,SAAA;EACA,WAAA;EACA,aAAA;EACA,8BAAA;EACA,mBAAA;EACA,eAAA;AAEJ;AAAE;EACE,YAAA;EACA,YAAA;EACA,eAAA;AAEJ;AAEA;EACE,WAAA;EACA,sBAAA;EACA,kBAAA;EACA,mBAAA;EACA,eAAA;EACA,eAAA;AAAF;AAIE;EACE,kBAAA;AAFJ;AAIE;EACE,6BAAA;EACA,eAAA;EACA,iBAAA;EACA,kBAAA;EACA,cAAA;AAFJ;AAIE;EACE,aAAA;AAFJ;AAIE;EACE,UAAA;EACA,cAAA;EACA,kBAAA;EACA,aAAA;EACA,kBAAA;AAFJ;AAGI;EACE,sBAAA;EACA,WAAA;EACA,iBAAA;AADN;AAOE;EACE,aAAA;EACA,6BAAA;AALJ;AAOE;EACE,aAAA;EACA,iBAAA;AALJ;AAOE;EACE,eAAA;EACA,YAAA;EACA,kBAAA;EACA,eAAA;EACA,yBAAA;EACA,WAAA;EACA,iBAAA;EACA,gBAAA;AALJ;AAMI;EACE,qBAAA;AAJN\",\"sourcesContent\":[\".view-list {\\n  position: fixed;\\n  width: 300px;\\n  height: 600px;\\n  overflow: auto;\\n  background-color: #fff;\\n  box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, .2);\\n  border-radius: 5px;\\n  padding: 10px 10px;\\n  &__scroller {\\n    height: 100%;\\n    overflow: auto;\\n    padding-bottom: 10px;\\n  }\\n  &__footer {\\n    position: absolute;\\n    height: 50px;\\n    left: 0;\\n    bottom: 0;\\n    width: 100%;\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 0 20px;\\n  }\\n  &__button {\\n    height: 25px;\\n    width: 120px;\\n    cursor: pointer;\\n  }\\n}\\n\\n.view-list-item {\\n  width: 100%;\\n  border: 1px solid #ccc;\\n  border-radius: 6px;\\n  margin-bottom: 10px;\\n  font-size: 14px;\\n  cursor: pointer;\\n  // &:hover {\\n  //   border-color: #acf;\\n  // }\\n  &--highlight {\\n    border-color: #acf;\\n  }\\n  &__title {\\n    border-bottom: 1px solid #ccc;\\n    font-size: 14px;\\n    font-weight: bold;\\n    text-align: center;\\n    padding: 6px 0;\\n  }\\n  &__cards {\\n    display: flex;\\n  }\\n  &__card {\\n    width: 25%;\\n    flex-shrink: 0;\\n    text-align: center;\\n    height: 100px;\\n    line-height: 100px;\\n    &:hover {\\n      background-color: #acf;\\n      color: #fff;\\n      font-weight: bold;\\n    }\\n    // &:not(:last-child) {\\n    //   border-right: 1px solid #ccc;\\n    // }\\n  }\\n  &__content {\\n    padding: 10px;\\n    border-bottom: 1px solid #ccc;\\n  }\\n  &__op {\\n    padding: 10px;\\n    text-align: right;\\n  }\\n  &__button {\\n    font-size: 12px;\\n    border: none;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    background-color: #ff4f4f;\\n    color: #fff;\\n    font-weight: bold;\\n    padding: 2px 5px;\\n    &:hover {\\n      background-color: red;\\n    }\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-8-2!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".login {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n.project-input input {\\n  width: 200px;\\n  height: 30px;\\n  padding: 0 5px;\\n}\\n.project-input button {\\n  margin-left: 10px;\\n  cursor: pointer;\\n  height: 30px;\\n  padding: 0 10px;\\n}\\n.project-list-container {\\n  width: 260px;\\n  margin-top: 10px;\\n}\\n.project-list-container div {\\n  margin: 5px 0;\\n}\\n.project-list-container ul {\\n  height: 150px;\\n  overflow: auto;\\n}\\n.project-list-container li {\\n  list-style: none;\\n  font-size: 14px;\\n  cursor: pointer;\\n  margin-top: 5px;\\n  padding: 5px;\\n}\\n.project-list-container li:hover {\\n  background-color: #f1f1f1;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/container/login/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,sBAAA;AACF;AACA;EAEI,YAAA;EACA,YAAA;EACA,cAAA;AAAJ;AAJA;EAOI,iBAAA;EACA,eAAA;EACA,YAAA;EACA,eAAA;AAAJ;AAGA;EACE,YAAA;EACA,gBAAA;AADF;AADA;EAII,aAAA;AAAJ;AAJA;EAOI,aAAA;EACA,cAAA;AAAJ;AARA;EAWI,gBAAA;EACA,eAAA;EACA,eAAA;EACA,eAAA;EACA,YAAA;AAAJ;AACI;EACE,yBAAA;AACN\",\"sourcesContent\":[\".login {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n.project-input {\\n  input {\\n    width: 200px;\\n    height: 30px;\\n    padding: 0 5px;\\n  }\\n  button {\\n    margin-left: 10px;\\n    cursor: pointer;\\n    height: 30px;\\n    padding: 0 10px;\\n  }\\n}\\n.project-list-container {\\n  width: 260px;\\n  margin-top: 10px;\\n  div {\\n    margin: 5px 0;\\n  }\\n  ul {\\n    height: 150px;\\n    overflow: auto;\\n  }\\n  li {\\n    list-style: none;\\n    font-size: 14px;\\n    cursor: pointer;\\n    margin-top: 5px;\\n    padding: 5px;\\n    &:hover {\\n      background-color: #f1f1f1;\\n    }\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/*\n * @Author: kuanggf\n * @Date: 2021-11-03 14:19:52\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-10 15:37:24\n * @Description: file content\n */\nimport { cloneDeep } from 'lodash'\n\nconst DEFAULT_VIEWS = {\n  image: {\n    id: '',\n    type: 'image',\n    url: '',\n    css: {\n      mode: 'aspectFill',\n    },\n  },\n  text: {\n    id: '',\n    type: 'text',\n    text: '你好世界',\n    css: {\n      fontSize: 12,\n      color: 'red',\n      maxLines: 1,\n      lineHeight: 20,\n      fontWeight: 'normal',\n      textDecoration: 'none',\n      textStyle: 'fill',\n      background: 'transparent',\n      padding: 0,\n      textAlign: 'left',\n    },\n  },\n  qrcode: {\n    id: '',\n    type: 'qrcode',\n    content: 'halo',\n    css: {\n    },\n  },\n  rect: {\n    id: '',\n    type: 'rect',\n    css: {\n      color: 'green',\n    },\n  },\n}\n\nexport const regNumber  = /^\\d+$/\n\nexport function getViewById(palette, id) {\n  return palette.views.find((item) => item.id === id)\n}\n\nexport function getViewByIndex(palette, id) {\n  return palette.views.findIndex((item) => item.id === id)\n}\n\nexport function setRootStyle(\n  palette,\n  {\n    width = palette.width,\n    height = palette.height,\n    top = palette.top,\n    left = palette.left,\n    background = palette.background,\n  }\n) {\n  width && (palette.width = width)\n  height && (palette.height = height)\n  top && (palette.top = top)\n  left && (palette.left = left)\n  background && (palette.background = background)\n  return palette\n}\n\nexport function setViewCss(palette, id, css) {\n  const view = getViewById(palette, id)\n  if (!view) return palette\n  view.css = {\n    ...view.css,\n    ...css,\n  }\n  return palette\n}\n\nexport function setViewProps(palette, id, props) {\n  const view = getViewById(palette, id)\n  if (!view) return palette\n  const index = getViewByIndex(palette, id)\n  let newView = { ...view }\n  for (const key in props) {\n    if (props.hasOwnProperty(key)) {\n      newView[key] = props[key]\n    }\n  }\n  palette.views[index] = newView\n  return palette\n}\n\nexport function insertView(palette, type) {\n  const viewId = `${type}_${Date.now()}`\n  const view = cloneDeep(DEFAULT_VIEWS[type])\n  view.id = viewId\n\n  palette.views.push(view)\n  return { palette, view }\n}\n\nexport function removeView(palette, id) {\n  const index = getViewByIndex(palette, id)\n  palette.views.splice(index, 1)\n  return palette\n}\n\nexport function addUnit(palette, unit = 'px') {\n  const unitAttr = [\n    'width',\n    'height',\n    'top',\n    'left',\n    'right',\n    'bottom',\n    'borderRadius',\n    'borderWidth',\n  ]\n  const handle = (obj) => {\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key) && unitAttr.includes(key)) {\n        if (\n          (typeof obj[key] === 'string' && obj[key].indexOf('%') > -1) \n          || !regNumber.test(obj[key])\n        ) continue\n        obj[key] = `${obj[key]}${unit}`\n      }\n    }\n  }\n  handle(palette)\n  palette.views.forEach((item) => {\n    handle(item.css)\n  })\n  return palette\n}\n\nexport function download(palette) {\n  const $a = document.createElement('a')\n  const blob = new Blob([JSON.stringify(addUnit(cloneDeep(palette.value), 'rpx'))], {\n    type: 'application/json'\n  })\n  $a.download = `painter-${Date.now()}.json`\n  $a.href = URL.createObjectURL(blob)\n  const clickEvent = new MouseEvent('click')\n  $a.dispatchEvent(clickEvent)\n}","/*\n * @Author: kuanggf\n * @Date: 2021-12-07 20:35:30\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 11:47:04\n * @Description: file content\n */\nimport { createContext } from 'react'\n\nexport const paletteDefault = {\n  width: 100,\n  height: 100,\n  background: '#f1f1f1',\n  views: []\n}\n\nexport default createContext(paletteDefault)\n","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 00:36:49\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 11:07:13\n * @Description: file content\n */\nimport { useContext } from 'react'\nimport paletteContext from '../context/palette'\n\nexport default function usePalette() {\n  const palette = useContext(paletteContext)\n  return palette\n}\n\nexport function usePaletteValue() {\n  const palette = usePalette()\n  return palette.value\n}\n\nexport function usePalettePen() {\n  const palette = usePalette()\n  return palette.pen\n}","/*\n * @Author: kuanggf\n * @Date: 2021-11-01 15:15:03\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 11:09:48\n * @Description: file content\n */\nimport { useRef, useEffect } from 'react'\nimport * as Painter from 'painter-kernel'\nimport { cloneDeep } from 'lodash'\nimport { addUnit } from '../../core/paletteTool'\nimport usePalette from '../../hooks/usePalette'\n\nPainter.initInjection({\n  loadImage: async url => {\n    return new Promise(resolve => {\n      const img = new Image()\n      img.onload = function () {\n        resolve({\n          img,\n          height: img.height,\n          width: img.width,\n        })\n      }\n      img.src = url\n    })\n  }\n})\n\nexport default function Render({\n  width, height\n}) {\n  const ref = useRef(null)\n  const palette = usePalette()\n\n  useEffect(() => {\n    const canvas = ref.current\n    const context = canvas.getContext('2d')\n    const pen = addUnit(cloneDeep(palette.value))\n    Painter.clearPenCache()\n    console.log('before draw:', JSON.parse(JSON.stringify(pen)))\n    // draw\n    new Painter.Pen(context, pen).paint(() => {\n      palette.setPen(pen)\n      console.log('after draw:', JSON.parse(JSON.stringify(pen)))\n    })\n  }, [palette.value])\n\n  return (\n    <div>\n      <canvas ref={ref} width={width} height={height}></canvas>\n    </div>\n  )\n}","/*\n * @Author: kuanggf\n * @Date: 2021-11-02 11:43:45\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-02 11:47:45\n * @Description: file content\n */\nimport './index.less'\n\nexport default function Subline({\n  width = 0,\n  height = 0\n}) {\n  return (\n    <div className=\"subline\">\n      <div className=\"x-axis\">\n        {\n          Array.from(new Array(Math.floor(width / 10 + 5))).map((item, index) => (\n            <span key={index} style={{\n              left: index * 10\n            }} className=\"x-axis__pot\"><i>{ index % 2 === 0 ? index * 10 : ''}</i></span>\n          ))\n        }\n      </div>\n      <div className=\"y-axis\">\n        {\n          Array.from(new Array(Math.floor(height / 10 + 5))).map((item, index) => (\n            <span key={index} style={{\n              top: index * 10\n            }} className=\"y-axis__pot\"><i>{ index % 2 === 0 ? index * 10 : ''}</i></span>\n          ))\n        }\n      </div>\n      <div className=\"x-axis--moveable\"></div>\n      <div className=\"y-axis--moveable\"></div>\n    </div>\n  )\n}\n","import { createContext } from 'react'\n\nexport const edit = {}\n\nexport default createContext(edit)\n","import './index.less'\nimport { useState, useRef, useContext, useEffect } from 'react'\nimport clsx from 'clsx'\nimport editContext from '../../context/edit'\nimport { usePaletteValue } from '../../hooks/usePalette'\nimport { getViewById } from '../../core/paletteTool'\n\nexport const VIEW_TYPE_IMAGE = 'image'\nexport const VIEW_TYPE_TEXT = 'text'\nexport const VIEW_TYPE_QRCODE = 'qrcode'\nexport const VIEW_TYPE_RECT = 'rect'\n\nexport default function Base({\n  id,\n  type,\n  config = {}\n}) {\n  const { top = 0, left = 0, bottom = 0, right = 0 } = (config.rect || {})\n  const paletteValue = usePaletteValue()\n  const edit = useContext(editContext)\n  const [ css, setCss ] = useState({\n    top, \n    left, \n    width: right - left, \n    height: bottom - top\n  })\n  const [ active, setActive ] = useState({\n    highlight: false,\n    active: false\n  })\n  const mouse = useRef({\n    lock: false,\n    prevX: 0,\n    prevY: 0\n  })\n  useEffect(() => {\n    const { top = 0, left = 0, bottom = 0, right = 0 } = (config.rect || {})\n    setCss((css) => ({\n      ...css,\n      top, \n      left, \n      width: right - left, \n      height: bottom - top\n    }))\n  }, [config])\n\n  const handleMouseEnter = () => {\n    setActive({\n      ...active,\n      highlight: true\n    })\n    edit.setActiveViewId(id)\n  }\n\n  const handleMouseDown = e => {\n    setActive({\n      ...active,\n      active: true\n    })\n    mouse.current = {\n      lock: true,\n      prevX: e.clientX,\n      prevY: e.clientY\n    }\n  }\n\n  const handleMouseMove = e => {\n    if (!mouse.current.lock) return\n    const offsetX = e.clientX - mouse.current.prevX\n    const offsetY = e.clientY - mouse.current.prevY\n    let {top, left} = css\n    if (!top) top = 0\n    if (!left) left = 0\n    top += offsetY\n    left += offsetX\n    mouse.current = {\n      lock: true,\n      prevX: e.clientX,\n      prevY: e.clientY\n    }\n    setCss({\n      ...css,\n      top,\n      left\n    })\n    edit.setViewCss(id, { top, left })\n  }\n\n  const handleMouseUp = e => {\n    setActive({\n      ...active,\n      active: false\n    })\n    mouse.current = {\n      lock: false,\n      prevX: e.clientX,\n      prevY: e.clientY\n    }\n  }\n\n  const handleMouseLeave = e => {\n    setActive({\n      ...active,\n      highlight: false,\n      active: false\n    })\n    edit.setActiveViewId('')\n    mouse.current = {\n      lock: false,\n      prevX: e.clientX,\n      prevY: e.clientY\n    }\n  }\n\n  const handleClick = () => {\n    edit.setAttrEditor(true, id, type, getViewById(paletteValue, id) || {})\n  }\n\n  return (\n    <div \n      className={\n        clsx('c_p_base', edit.activeViewId === id && 'c_p_base--highlight', active.active && 'c_p_base--active')\n      }\n      style={css}\n      onMouseEnter={handleMouseEnter}\n      // onMouseDownCapture={handleMouseDown}\n      // onMouseMoveCapture={handleMouseMove}\n      // onMouseUpCapture={handleMouseUp}\n      onMouseLeave={handleMouseLeave}\n      onClick={handleClick}></div>\n  )\n}\n","import Base, { VIEW_TYPE_IMAGE } from '../base'\n\nexport default function Image({ config, id }) {\n  return (\n    <Base \n      id={id}\n      type={VIEW_TYPE_IMAGE}\n      config={config}>\n    </Base>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-11-10 17:37:49\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-11-10 17:38:00\n * @Description: file content\n */\nimport Base, { VIEW_TYPE_TEXT } from '../base'\n\nexport default function Image({ config, id }) {\n  return (\n    <Base \n      id={id}\n      type={VIEW_TYPE_TEXT}\n      config={config}>\n    </Base>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-11-10 17:37:49\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-11-10 17:38:00\n * @Description: file content\n */\nimport Base, { VIEW_TYPE_QRCODE } from '../base'\n\nexport default function Image({ config, id }) {\n  return (\n    <Base \n      id={id}\n      type={VIEW_TYPE_QRCODE}\n      config={config}>\n    </Base>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-11-10 17:37:49\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-11-10 17:38:00\n * @Description: file content\n */\nimport Base, { VIEW_TYPE_RECT } from '../base'\n\nexport default function Image({ config, id }) {\n  return (\n    <Base \n      id={id}\n      type={VIEW_TYPE_RECT}\n      config={config}>\n    </Base>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-11-02 15:44:56\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 11:06:26\n * @Description: file content\n */\nimport './index.less'\nimport Image from '../../component_painter/image'\nimport Text from '../../component_painter/text'\nimport Qrcode from '../../component_painter/qrcode'\nimport Rect from '../../component_painter/rect'\nimport { VIEW_TYPE_IMAGE, VIEW_TYPE_TEXT, VIEW_TYPE_QRCODE, VIEW_TYPE_RECT } from '../../component_painter/base'\nimport { usePalettePen } from '../../hooks/usePalette'\n\nexport default function Display() {\n  const pen = usePalettePen()\n\n  const children = pen.views?.map((item, index) => {\n    if (item.type === VIEW_TYPE_IMAGE) {\n      return (\n        <Image key={item.id || index} id={item.id} config={item}/>\n      )\n    }\n    if (item.type === VIEW_TYPE_TEXT) {\n      return (\n        <Text key={item.id || index} id={item.id} config={item}/>\n      )\n    }\n    if (item.type === VIEW_TYPE_QRCODE) {\n      return (\n        <Qrcode key={item.id || index} id={item.id} config={item}/>\n      )\n    }\n    if (item.type === VIEW_TYPE_RECT) {\n      return (\n        <Rect key={item.id || index} id={item.id} config={item}/>\n      )\n    }\n    return null\n  })\n\n  return (\n    <div className=\"display\">\n      {children}\n    </div>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 17:55:14\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-10 14:22:18\n * @Description: file content\n */\nimport { useContext } from 'react'\nimport editContext from '../context/edit'\n\nexport default function useEdit() {\n  return useContext(editContext)\n}","/*\n * @Author: kuanggf\n * @Date: 2021-12-10 10:55:50\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-10 14:24:05\n * @Description: file content\n */\nimport clsx from 'clsx'\nimport { useEffect, useState, useRef } from 'react'\nimport useEdit from '../../hooks/useEdit'\nimport { usePaletteValue } from '../../hooks/usePalette'\n\nconst isPanelElement = (ele, panel) => {\n  while (ele.parentNode !== null) {\n    if (ele === panel) return true\n    ele = ele.parentNode\n  }\n  return false\n}\n\nexport default function RelativeSelectPanel({\n  css = {},\n  onSelect,\n  onVisibleChange,\n  refInput\n}) {\n  const edit = useEdit()\n  const palette = usePaletteValue()\n  const refPanel = useRef(null)\n  const [selectedId, setSelectedId] = useState('')\n\n  useEffect(() => {\n    const handleClick = e => {\n      if(!isPanelElement(e.target, refPanel.current) && refInput !== e.target) {\n        onVisibleChange(false)\n      }\n    }\n    window.addEventListener('click', handleClick)\n    return () => window.removeEventListener('click', handleClick)\n  }, [onVisibleChange, refInput])\n\n  const handleSelectId = id => {\n    setSelectedId(id)\n  }\n\n  const handleSelectAttr = (attr) => {\n    onSelect && onSelect(selectedId, attr)\n  }\n\n  const handleMouseEnter = id => {\n    edit.setActiveViewId(id)\n  }\n\n  const handleMouseLeave = e => {\n    edit.setActiveViewId('')\n  }\n\n  return (\n    <div className=\"relative-select-panel\" style={css} ref={refPanel}>\n      <div className=\"relative-id-list\">\n        {\n          palette.views?.map(item => (\n            <div \n              onMouseEnter={() => handleMouseEnter(item.id)}\n              onMouseLeave={handleMouseLeave}\n              key={item.id} \n              className={clsx('relative-id-list__item', {\n                'relative-id-list__item--active': selectedId === item.id\n              })}\n              onClick={() => handleSelectId(item.id)}>{item.id}</div>\n          ))\n        }\n      </div>\n      <div className=\"relative-size-list\" style={{display: selectedId ? 'block' : 'none'}}>\n        <div className=\"relative-size-list__item\" onClick={() => handleSelectAttr('width')}>width</div>\n        <div className=\"relative-size-list__item\" onClick={() => handleSelectAttr('height')}>height</div>\n        <div className=\"relative-size-list__item\" onClick={() => handleSelectAttr('top')}>top</div>\n        <div className=\"relative-size-list__item\" onClick={() => handleSelectAttr('right')}>right</div>\n        <div className=\"relative-size-list__item\" onClick={() => handleSelectAttr('bottom')}>bottom</div>\n        <div className=\"relative-size-list__item\" onClick={() => handleSelectAttr('left')}>left</div>\n      </div>\n    </div>\n  )\n}","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 09:44:38\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-10 15:38:45\n * @Description: file content\n */\nimport './index.less'\nimport { useEffect, useRef, useState } from 'react'\nimport { usePaletteValue } from '../../hooks/usePalette'\nimport RelativeSelectPanel from './relativeSelectPanel'\n\nconst isRelative = value => {\n  value = `${value}`\n  if (!value) return false\n  return value.indexOf('calc(') > -1\n}\n\nconst addRelativeToValue = (value, id) => {\n  if (!value) return value\n  if (isRelative(value)) return value\n  return `calc(${value})`\n}\n\nexport default function FieldRelative({\n  label,\n  value = '',\n  onChange,\n  desc = ''\n}) {\n  const paletteValue = usePaletteValue()\n  const [checked, setChecked] = useState(false)\n  const [currentValue, setCurrentValue] = useState(value)\n  const [selectPanelCss, setSelectedPanelCss] = useState({})\n  const refInput = useRef(null)\n  const refSelectionStart = useRef(0)\n  const views = paletteValue.views\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      refInput.current.style.height = 'inherit'\n      refInput.current.style.height = refInput.current.scrollHeight + 'px'\n    })\n    return () => clearTimeout(timer)\n  }, [])\n\n  useEffect(() => {\n    setCurrentValue(value)\n    setChecked(isRelative(value))\n  }, [value])\n\n  const setInputHeight = () => {\n    refInput.current.style.height = 'inherit'\n    refInput.current.style.height = refInput.current.scrollHeight + 'px'\n    setSelectPanelStyle()\n  }\n\n  const setSelectPanelStyle = () => {\n    if (checked) {\n      const box = refInput.current.getBoundingClientRect()\n      setSelectedPanelCss({\n        display: 'flex',\n        top: box.bottom + 5,\n        left: box.left\n      })\n    }\n  }\n\n  const handleChange = e => {\n    let { value } = e.target\n    setCurrentValue(value)\n    setInputHeight()\n  }\n  \n  const handleFocus = () => {\n    setSelectPanelStyle()\n  }\n  \n  const handleBlur = () => {\n    let value = currentValue\n    if (checked) {\n      value = addRelativeToValue(value)\n    }\n    setCurrentValue(value)\n    onChange({\n      target:  {\n        value\n      }\n    })\n    refSelectionStart.current = refInput.current.selectionStart\n  }\n\n  const handleToggleRelative = () => {\n    const next = !checked\n    if (!next) {\n      setCurrentValue('')\n    }\n    setChecked(next)\n  }\n\n  const handleSelectRelative = (id, attr) => {\n    const value = `${id}.${attr}`\n    const nextVal = currentValue.slice(0, refSelectionStart.current) + value + currentValue.slice(refSelectionStart.current)\n    const nextSelectionStart = refSelectionStart.current + value.length\n    setCurrentValue(nextVal)\n    setTimeout(() => {\n      setInputHeight()\n      refInput.current.focus()\n      refInput.current.setSelectionRange(nextSelectionStart, nextSelectionStart)\n    })\n  }\n\n  const handleToggleSelectRelative = (visible) => {\n    setSelectedPanelCss({\n      display: visible ? 'flex' : 'none'\n    })\n  }\n  \n  return (\n    <div className=\"field-wrapper\">\n      <div className=\"field\">\n        <span className=\"field__label\">{label}</span>\n        <label className=\"field__box\">\n          <textarea\n            ref={refInput}\n            className=\"field__textarea\"\n            type=\"text\"\n            style={{width: '100%'}}\n            value={currentValue || ''}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n          />\n          {\n            views.length > 0 ? (\n              <p className=\"field__desc\">\n                <label>\n                  <input type=\"checkbox\" checked={checked} onChange={handleToggleRelative}></input>相对布局\n                </label>\n              </p>\n            ) : null\n          }\n        </label>\n        <RelativeSelectPanel \n          css={selectPanelCss} \n          onSelect={handleSelectRelative}\n          onVisibleChange={handleToggleSelectRelative}\n          refInput={refInput.current}/>\n      </div>\n    </div>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-11-04 15:03:49\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 14:15:03\n * @Description: file content\n */\nimport './index.less'\nimport { cloneDeep } from 'lodash'\nimport { useContext, useState, useCallback, useEffect } from 'react'\nimport editContext from '../../context/edit'\nimport { VIEW_TYPE_IMAGE, VIEW_TYPE_TEXT, VIEW_TYPE_QRCODE, VIEW_TYPE_RECT } from '../../component_painter/base'\nimport { regNumber } from '../../core/paletteTool'\nimport FieldRelative from './fieldRelative'\n\nconst numberAttr = [\n  'width',\n  'height',\n  'top',\n  'left',\n  'right',\n  'bottom',\n  'fontSize',\n  'maxLines',\n  'padding'\n]\nconst validateValue = (value, defaultValue, propType, viewType) => {\n  // value = value.trim()\n  if (!numberAttr.includes(propType)) return value\n  if (!value) return value\n  if (!regNumber.test(value)) return value\n  return Number(value)\n}\n\nfunction FieldInput({ label, value, onChange, desc = ''}) {\n  return (\n    <div className=\"field-wrapper\">\n      <label className=\"field\">\n        <span className=\"field__label\">{label}</span>\n        <div className=\"field__box\">\n          <input\n            className=\"field__input\"\n            type=\"text\"\n            value={value || ''}\n            onChange={onChange}\n          />\n          <p className=\"field__desc\">{desc}</p>\n        </div>\n      </label>\n    </div>\n  )\n}\n\nfunction FieldSelect({ children, label, value, onChange, desc = '' }) {\n  return (\n    <div className=\"field-wrapper\">\n      <label className=\"field\">\n        <span className=\"field__label\">{label}</span>\n        <div className=\"field__box\">\n          <select className=\"field__input\" value={value} onChange={onChange}>\n            {children}\n          </select>\n          <p className=\"field__desc\">{desc}</p>\n        </div>\n      </label>\n    </div>\n  )\n}\n\nexport default function AttrEditor({\n  viewId,\n  viewType,\n  defaultValue,\n  visible = false,\n  css = {},\n}) {\n  const edit = useContext(editContext)\n  const [value, setValue] = useState(cloneDeep(defaultValue))\n  const viewCss = value.css || {}\n\n  useEffect(() => {\n    setValue(cloneDeep(defaultValue))\n  }, [defaultValue])\n  \n  const handleSetValue = useCallback((attr, attrValue) => {\n    setValue((value) => ({\n      ...value,\n      [attr]: attrValue\n    }))\n  }, [])\n\n  const handleSetCss = useCallback((attr, attrValue) => {\n    setValue((value) => {\n      console.log('editing:', value)\n      const css = {  ...value.css }\n      if (attrValue === '') {\n        delete css[attr]\n      } else {\n        css[attr] = attrValue\n      }\n      return {\n        ...value,\n        css\n      }\n    })\n  }, [])\n\n  const handleApply = () => {\n    console.log('edited:', value, viewCss)\n    edit.setViewProps(viewId, {\n      ...value,\n      css: {\n        ...viewCss\n      }\n    })\n  }\n\n  if (!viewId) return null\n  return (\n    <div\n      className=\"attr-editor\"\n      style={{\n        display: visible ? 'block' : 'none',\n        ...css,\n      }}\n    >\n      <div className=\"attr-editor__scroller\">\n      <FieldRelative\n        key={viewId + '0'}\n        label=\"宽度\"\n        value={viewCss.width}\n        desc=\"支持相对定位，示例: calc(id0.width + 10)\"\n        onChange={\n          (e) => handleSetCss('width', validateValue(\n            e.target.value,\n            viewCss.width, 'width'\n          ))\n        }\n      />\n      <FieldRelative\n        key={viewId + '1'}\n        label=\"高度\"\n        value={viewCss.height}\n        desc=\"支持相对定位，示例: calc(id0.width + 10)\"\n        onChange={\n          (e) => handleSetCss('height', validateValue(\n            e.target.value, viewCss.height, 'height'\n          ))\n        }\n      />\n      <FieldRelative\n        key={viewId + '2'}\n        label=\"距上\"\n        value={viewCss.top}\n        desc=\"支持相对定位，示例: calc(id0.top + 10)\"\n        onChange={\n          (e) => handleSetCss('top', validateValue(\n            e.target.value, viewCss.top, 'top'\n          ))\n        }\n      />\n      <FieldRelative\n        key={viewId + '3'}\n        label=\"距左\"\n        value={viewCss.left}\n        desc=\"支持相对定位，示例: calc(id0.left + id0.width + 10)\"\n        onChange={(e) =>\n          handleSetCss('left', validateValue(\n            e.target.value, viewCss.left, 'left'\n          ))\n        }\n      />\n      {/* 公共属性 */}\n      <FieldInput\n        key={viewId + '17'}\n        label=\"旋转\"\n        value={viewCss.rotate}\n        onChange={(e) =>\n          handleSetCss('rotate', validateValue(\n            e.target.value, viewCss.rotate, 'rotate'\n          ))\n        }\n      />\n      <FieldInput\n        key={viewId + '18'}\n        label=\"圆角\"\n        value={viewCss.borderRadius}\n        onChange={(e) =>\n          handleSetCss('borderRadius', validateValue(\n            e.target.value, viewCss.borderRadius, 'borderRadius'\n          ))\n        }\n      />\n      <FieldInput\n        key={viewId + '19'}\n        label=\"边框宽度\"\n        value={viewCss.borderWidth}\n        onChange={(e) =>\n          handleSetCss('borderWidth', validateValue(\n            e.target.value, viewCss.borderWidth, 'borderWidth'\n          ))\n        }\n      />\n      <FieldInput\n        key={viewId + '20'}\n        label=\"边框颜色\"\n        value={viewCss.borderColor}\n        onChange={(e) =>\n          handleSetCss('borderColor', validateValue(\n            e.target.value, viewCss.borderColor, 'borderColor'\n          ))\n        }\n      />\n      <FieldSelect\n          key={viewId + '21'}\n          label=\"边框样式\"\n          value={viewCss.borderStyle}\n          onChange={(e) => handleSetCss('borderStyle', e.target.value)}\n        >\n        <option value=\"solid\">solid</option>\n        <option value=\"dashed\">dashed</option>\n        <option value=\"dotted\">dotted</option>\n      </FieldSelect>\n      <FieldInput\n        key={viewId + '22'}\n        label=\"阴影\"\n        value={viewCss.shadow}\n        desc=\"示例: 5px 5px 5px #aaa\"\n        onChange={(e) =>\n          handleSetCss('shadow', validateValue(\n            e.target.value, viewCss.shadow, 'shadow'\n          ))\n        }\n      />\n      {/* end 公共属性 */}\n      {viewType === VIEW_TYPE_IMAGE ? (\n        <FieldInput\n          key={viewId + '4'}\n          label=\"URL\"\n          value={value.url}\n          onChange={(e) => handleSetValue('url', e.target.value)}\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_IMAGE ? (\n        <FieldSelect\n          key={viewId + '5'}\n          label=\"模式\"\n          value={viewCss.mode}\n          onChange={(e) => handleSetCss('mode', e.target.value)}\n        >\n          {' '}\n          <option value=\"aspectFill\">aspectFill</option>\n          <option value=\"scaleToFill\">scaleToFill</option>\n        </FieldSelect>\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldInput\n          key={viewId + '6'}\n          label=\"字体大小\"\n          value={viewCss.fontSize}\n          onChange={(e) =>\n            handleSetCss('fontSize', validateValue(\n              e.target.value, viewCss.fontSize, 'fontSize'\n            ))\n          }\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldInput\n          key={viewId + '7'}\n          label=\"字体颜色\"\n          value={viewCss.color}\n          onChange={(e) =>\n            handleSetCss('color', validateValue(\n              e.target.value, viewCss.color, 'color'\n            ))\n          }\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldInput\n          key={viewId + '8'}\n          label=\"最大行数\"\n          value={viewCss.maxLines}\n          onChange={(e) =>\n            handleSetCss('maxLines', validateValue(\n              e.target.value, viewCss.maxLines, 'maxLines'\n            ))\n          }\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldSelect\n          key={viewId + '9'}\n          label=\"字体粗细\"\n          value={viewCss.fontWeight}\n          onChange={(e) => handleSetCss('fontWeight', e.target.value)}\n        >\n          <option value=\"100\">100</option>\n          <option value=\"200\">200</option>\n          <option value=\"300\">300</option>\n          <option value=\"400\">400 normal</option>\n          <option value=\"500\">500</option>\n          <option value=\"600\">600</option>\n          <option value=\"700\">700 bold</option>\n          <option value=\"800\">800</option>\n          <option value=\"900\">900</option>\n        </FieldSelect>\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldSelect\n          key={viewId + '10'}\n          label=\"文本修饰\"\n          value={viewCss.textDecoration}\n          onChange={(e) => handleSetCss('textDecoration', e.target.value)}\n        >\n          <option value=\"none\">无</option>\n          <option value=\"underline\">underline</option>\n          <option value=\"overline\">overline</option>\n          <option value=\"line-through\">line-through</option>\n        </FieldSelect>\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldSelect\n          key={viewId + '11'}\n          label=\"文本样式\"\n          value={viewCss.textStyle}\n          onChange={(e) => handleSetCss('textStyle', e.target.value)}\n        >\n          <option value=\"fill\">填充样式</option>\n          <option value=\"stroke\">镂空样式</option>\n        </FieldSelect>\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldInput\n          key={viewId + '12'}\n          label=\"背景颜色\"\n          value={viewCss.background}\n          onChange={(e) =>\n            handleSetCss('background', validateValue(\n              e.target.value, viewCss.background, 'background'\n            ))\n          }\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldInput\n          key={viewId + '13'}\n          label=\"间距\"\n          value={viewCss.padding}\n          onChange={(e) =>\n            handleSetCss('padding', validateValue(\n              e.target.value, viewCss.padding, 'padding'\n            ))\n          }\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldSelect\n          key={viewId + '14'}\n          label=\"对齐方式\"\n          value={viewCss.textAlign}\n          onChange={(e) => handleSetCss('textAlign', e.target.value)}\n        >\n          <option value=\"left\">左对齐</option>\n          <option value=\"center\">居中对齐</option>\n          <option value=\"right\">右对齐</option>\n        </FieldSelect>\n      ) : null}\n      {viewType === VIEW_TYPE_TEXT ? (\n        <FieldInput\n          key={viewId + '15'}\n          label=\"文本\"\n          value={value.text}\n          onChange={(e) =>\n            handleSetValue('text', validateValue(\n              e.target.value, value.text, 'text'\n            ))\n          }\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_QRCODE ? (\n        <FieldInput\n          key={viewId + '16'}\n          label=\"内容\"\n          value={value.content}\n          onChange={(e) =>\n            handleSetValue('content', validateValue(\n              e.target.value, value.content, 'content'\n            ))\n          }\n        />\n      ) : null}\n      {viewType === VIEW_TYPE_RECT ? (\n        <FieldInput\n          key={viewId + '16'}\n          label=\"颜色\"\n          value={viewCss.color}\n          onChange={(e) =>\n            handleSetCss('color', validateValue(\n              e.target.value, value.color, 'color'\n            ))\n          }\n        />\n      ) : null}\n      </div>\n      <div className=\"attr-editor__footer\">\n        <button className=\"attr-editor__button\">确定</button>\n        <button className=\"attr-editor__button\" onClick={handleApply}>\n          应用\n        </button>\n      </div>\n    </div>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-11-24 14:16:57\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-10 14:22:44\n * @Description: file content\n */\nimport './index.less'\nimport { useContext, useCallback } from 'react'\nimport clsx from 'clsx'\nimport paletteContext from '../../context/palette'\nimport { VIEW_TYPE_IMAGE, VIEW_TYPE_TEXT, VIEW_TYPE_QRCODE, VIEW_TYPE_RECT } from '../../component_painter/base'\nimport { insertView, removeView } from '../../core/paletteTool'\nimport useEdit from '../../hooks/useEdit'\n\nconst TYPE_MAP = {\n  [VIEW_TYPE_IMAGE]: '图片',\n  [VIEW_TYPE_TEXT]: '文本',\n  [VIEW_TYPE_QRCODE]: '二维码',\n  [VIEW_TYPE_RECT]: '矩形',\n}\n\nfunction ViewItem({ item, onRemoveView }) {\n  const edit = useEdit()\n\n  const revokeSetAttr = (id, type, config) => {\n    edit.setAttrEditor(true, id, type, config)\n  }\n\n  const handleMouseEnter = () => {\n    edit.setActiveViewId(item.id)\n  }\n\n  const handleMouseLeave = e => {\n    edit.setActiveViewId('')\n  }\n\n  const handleRemove = (e) => {\n    e.stopPropagation()\n    onRemoveView(item.id)\n  }\n\n  return (\n    <div \n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      className={clsx('view-list-item', edit.activeViewId === item.id && 'view-list-item--highlight')} \n      onClick={() => revokeSetAttr(item.id, item.type, item)}>\n      <div className=\"view-list-item__content\">\n        <p>类型: {TYPE_MAP[item.type]}</p>\n        <p>id: {item.id}</p>\n      </div>\n      <div className=\"view-list-item__op\">\n        <button className=\"view-list-item__button\" onClick={handleRemove}>移除</button>\n      </div>\n    </div>\n  )\n}\n\nexport default function ViewList({\n  css = {},\n}) {\n  const palette = useContext(paletteContext)\n  const edit = useEdit()\n\n  const memorized = useCallback(type => {\n    const config = insertView(palette.value, type)\n    const view = config.view\n    edit.setActiveViewId(view.id)\n    edit.setPalette(config.palette)\n    edit.setAttrEditor(true, view.id, view.type, view)\n  }, [palette.value, edit])\n\n  const handleRemoveViewMemorized = useCallback(id => {\n    const palatteValue = removeView(palette.value, id)\n    edit.setPalette(palatteValue)\n    edit.setAttrEditor(false)\n  }, [palette.value, edit])\n\n  return (\n    <div style={css} className=\"view-list\">\n      <div className=\"view-list__scroller\">\n        {palette.value.views?.map((item, index) => (\n          <ViewItem key={item.id || index} item={item} onRemoveView={handleRemoveViewMemorized}/>\n        ))}\n        <div\n          className=\"view-list-item\">\n          <div className=\"view-list-item__title\">\n            新增\n          </div>\n          <div className=\"view-list-item__cards\">\n            <div className=\"view-list-item__card\" onClick={() => memorized(VIEW_TYPE_IMAGE)}>图片</div>\n            <div className=\"view-list-item__card\" onClick={() => memorized(VIEW_TYPE_TEXT)}>文本</div>\n            <div className=\"view-list-item__card\" onClick={() => memorized(VIEW_TYPE_QRCODE)}>二维码</div>\n            <div className=\"view-list-item__card\" onClick={() => memorized(VIEW_TYPE_RECT)}>矩形</div>\n          </div>\n        </div>\n      </div>\n      <div className=\"view-list__footer\">\n      </div>\n    </div>\n  )\n}\n","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 17:13:14\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 18:04:33\n * @Description: file content\n */\n\nconst KEY = 'PEN_'\n\nconst storage = {\n  set(name = '', value) {\n    localStorage.setItem(`${KEY}${name}`, JSON.stringify(value))\n  },\n  get(name = '') {\n    return JSON.parse(localStorage.getItem(`${KEY}${name}`))\n  },\n  all() {\n    return Object.keys(localStorage).map(item => item.replace(KEY, ''))\n  }\n}\n\nexport default storage","/*\n * @Author: kuanggf\n * @Date: 2021-12-07 20:35:30\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 17:38:38\n * @Description: file content\n */\nimport { createContext } from 'react'\n\nexport const project = {\n  name: null\n}\n\nexport default createContext(project)\n","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 17:55:14\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 17:55:14\n * @Description: file content\n */\nimport { useContext } from 'react'\nimport projectContext from '../context/project'\n\nexport default function useProject() {\n  return useContext(projectContext)\n}","import './index.less'\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport Render from '../render'\nimport Subline from '../subline'\nimport Display from '../display'\nimport AttrEditor from '../attr_editor'\nimport ViewList from '../view_list'\nimport { setViewCss, setViewProps, setRootStyle, download } from '../../core/paletteTool'\nimport editContext from '../../context/edit'\nimport storage from '../../core/storage'\nimport { cloneDeep } from 'lodash'\nimport usePalette from '../../hooks/usePalette'\nimport useProject from '../../hooks/useProject'\n\nconst initialAttrEditor = {\n  visible: false,\n  id: '',\n  type: '',\n  defaultValue: {},\n  css: {}\n}\n\nexport default function Simulator() {\n  const project = useProject()\n  const palette = usePalette()\n  const refDeviceWrapper = useRef(null)\n  const [device, setDevice] = useState({\n    width: palette.value.width || 100,\n    height: palette.value.height || 100\n  }) // 画布尺寸\n  const [ratio, setRatio] = useState(1) // 缩放比例\n  const [attrEditor, setAttrEditor] = useState({\n    ...initialAttrEditor\n  }) // 属性编辑\n  const [viewListStyle, setViewListStyle] = useState({}) // view 列表\n  const [activeViewId, setActiveViewId] = useState('')\n\n  const memorizedCallback = useCallback(() => {\n    const rect = refDeviceWrapper.current.getBoundingClientRect()\n    const top = rect.top\n    const left = rect.left + device.width + 20\n    setAttrEditor(a => ({\n      ...a,\n      css: {\n        top,\n        left\n      }\n    }))\n    setViewListStyle({\n      top,\n      left: rect.left - 330\n    })\n  }, [device.width])\n\n  useEffect(() => {\n    memorizedCallback()\n    const handleResize = () => memorizedCallback()\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [memorizedCallback])\n\n  const handleDeviceChange = (type, value) => {\n    const regNumber = /^\\d+\\.?\\d*$/\n    if (!regNumber.test(value) && value !== '') return\n    setDevice({\n      ...device,\n      [type]: value\n    })\n  }\n  \n  const handleDeviceSizeBlur = () => {\n    setTimeout(() => {\n      palette.setValue(setRootStyle(palette.value, {\n        width: device.width || 0,\n        height: device.height || 0\n      }))\n    }, 0)\n  }\n\n  const handleExport = () => {\n    console.log('download:', JSON.stringify(palette.value))\n    download(palette)\n  }\n\n  const handleSaveToLocal = () => {\n    storage.set(project.name, cloneDeep(palette.value))\n  }\n\n  return (\n    <div className=\"simulator\">\n      <div className=\"tools\">\n        <button disabled>导入</button>\n        <button onClick={handleExport}>导出</button>\n        <button onClick={handleSaveToLocal}>暂存</button>\n        <button disabled>复制</button>\n      </div>\n      <div className=\"device-switch\">\n        <div>\n          <input \n            value={device.width} \n            type=\"number\" \n            onChange={(e) => handleDeviceChange('width', e.target.value)}\n            onBlur={handleDeviceSizeBlur}></input>\n          <span>x</span>\n          <input \n            value={device.height} \n            type=\"number\" \n            onChange={(e) => handleDeviceChange('height', e.target.value)}\n            onBlur={handleDeviceSizeBlur}></input>\n        </div>\n        <div>\n          <select disabled value={ratio} onChange={(e) => setRatio(e.target.value)}>\n            <option value={1}>100%</option>\n            <option value={1.25}>125%</option>\n            <option value={1.5}>150%</option>\n          </select>\n        </div>\n      </div>\n      <editContext.Provider value={{\n          activeViewId,\n          setViewCss: (id, css) => palette.setValue(setViewCss(palette.value, id, css)),\n          setViewProps: (id, props) => palette.setValue(setViewProps(palette.value, id, props)),\n          setPalette: (value) => palette.setValue(value),\n          setAttrEditor: (visible = false, id, type, defaultValue, pos) => {\n            if (!visible) {\n              setAttrEditor({ ...initialAttrEditor, css: attrEditor.css })\n              return\n            }\n            setAttrEditor({\n              ...attrEditor,\n              visible,\n              id,\n              type,\n              defaultValue\n            })\n          },\n          setActiveViewId: id => setActiveViewId(id)\n        }}>\n        <div \n          className=\"device\" \n          ref={refDeviceWrapper}\n          style={{\n            width: device.width,\n            height: device.height\n          }}>\n          <div className=\"canvas-wrapper\">\n            <Render width={device.width} height={device.height}/>\n          </div>\n          <Subline width={device.width} height={device.height}/>\n          \n          <Display />\n        </div>\n        {/* View 列表 */}\n        <ViewList css={viewListStyle}/>\n        {/* 属性编辑器 */}\n        <AttrEditor\n          viewId={attrEditor.id}\n          viewType={attrEditor.type}\n          defaultValue={attrEditor.defaultValue}\n          visible={attrEditor.visible}\n          css={attrEditor.css}/>\n      </editContext.Provider>\n    </div>\n  )\n}","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 09:42:42\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 18:02:02\n * @Description: file content\n */\nimport './index.css'\nimport { useState } from 'react'\nimport Simulator from '../../component/simulator'\nimport paletteContext, { paletteDefault } from '../../context/palette'\nimport useProject from '../../hooks/useProject'\nimport storage from '../../core/storage'\n\nexport default function Index() {\n  const project = useProject()\n  const [ palette, setPalette ] = useState(storage.get(project.name) || paletteDefault)\n  const [ pen, setPen ] = useState({})\n  const handleSetPalette = (value) => {\n    setPalette({...value})\n  }\n  return (\n    <div className=\"layout\">\n      <paletteContext.Provider value={{\n        value: palette,\n        setValue: handleSetPalette,\n        pen,\n        setPen\n      }}>\n        <div className=\"layout__left\">\n          <Simulator />\n        </div>\n        <div className=\"layout__right\">\n          {/* <Control /> */}\n        </div>\n      </paletteContext.Provider>\n    </div>\n  )\n}","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 17:21:32\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 17:58:53\n * @Description: file content\n */\nimport { useState } from 'react'\nimport storage from '../../core/storage'\nimport useProject from '../../hooks/useProject'\nimport './index.less'\n\nexport default function Login() {\n  const [projectName, setProjectName] = useState('')\n  const project = useProject()\n\n  const handleCreate = () => {\n    if (!projectName) alert('输入项目名')\n    project.setName(projectName)\n  }\n\n  return (\n    <div className=\"login\">\n      <div className=\"project-input\">\n        <input value={projectName} onChange={e => setProjectName(e.target.value.trim())} placeholder=\"输入项目名\" />\n        <button onClick={handleCreate}>新建</button>\n      </div>\n      <div className=\"project-list-container\">\n        <div>选择项目</div>\n        <ul className=\"project-list\">\n          {\n            storage.all().map((item, index) => (<li key={index} onClick={() => project.setName(item)}>{item}</li>))\n          }\n        </ul>\n      </div>\n    </div>\n  )\n}","/*\n * @Author: kuanggf\n * @Date: 2021-12-09 17:40:00\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 17:43:10\n * @Description: file content\n */\nimport Index from '../index'\nimport Login from '../login'\nimport projectContext from '../../context/project'\nimport { useState } from 'react'\n\nexport default function Main() {\n  const [name, setName] = useState(null)\n\n  return (\n    <projectContext.Provider value={{\n      name,\n      setName\n    }}>\n      {\n        name ? <Index /> : <Login />\n      }\n    </projectContext.Provider>\n  )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/*\n * @Author: kuanggf\n * @Date: 2021-10-28 10:20:54\n * @LastEditors: kuanggf\n * @LastEditTime: 2021-12-09 17:43:27\n * @Description: file content\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './container/main';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}